/***************************
File generated by shrinker.ch
DateTime: 2013-06-03, 11:34:14
File list:
	* overlayBox.js
*****************************/
(function(c){c.fn.extend({overlayBox:function(g,h){var a=this;this.defaults={layoutId:"",closeBtnId:"#overlay-close",contentBlockWidth:"500",onOverlayLoaded:function(b){console.info(b)},onOverlayClosed:function(){console.info("CLOSED OVERLAY")}};this.init=function(b){a.htmlData=g;a.onOverlayLoaded=b.onOverlayLoaded;a.onOverlayClosed=b.onOverlayClosed;a.overlayContentClass="overlay-content";a.contentBlockWidth=b.contentBlockWidth;a.zIndexValue=b.zIndexValue;a.closeBtnId=b.closeBtnId;a.overlayEl=c(this);
a.closeBtnEl=undefined;if(b.layoutId!=="")a.layoutEl=c("#"+b.layoutId);a.displayOverlay()};this.displayOverlay=function(){var b;b=a.htmlData!==""&&a.layoutEl===undefined?{width:c(document).width(),height:c(document).height(),zIndex:a.zIndexValue}:{width:a.layoutEl.width(),height:a.layoutEl.height(),zIndex:a.zIndexValue};a.overlayEl.css(b).animate({opacity:1},function(){a.displayContent()})};this.displayContent=function(){a.htmlData!==""&&a.overlayEl.append("<div class="+a.overlayContentClass+">"+
a.htmlData+"</div>");if(a.closeBtnId!==undefined)a.closeBtnEl=c(a.closeBtnId);a.addEvents();c.when(a.setCenterContent()).done(function(){a.overlayEl.find("."+a.overlayContentClass).eq(0).css({visibility:"visible"});a.overlayEl.trigger("onOverlayLoaded")})};this.setCenterContent=function(){var b=a.overlayEl.find("."+a.overlayContentClass).eq(0),e,d,f;e=(a.overlayEl.height()-b.height())/2;d=(a.overlayEl.width()-a.contentBlockWidth)/2;f=c(document).scrollTop();if(f>0)e=f+b.height()/4;b.css({margin:"0 auto",
position:"absolute",top:e,left:d,width:a.contentBlockWidth+"px"})};this.hideOverlay=function(b,e){var d=this;b.animate({opacity:0},function(){d.htmlData!==""&&e.remove();c(this).css({width:0,height:0,zIndex:0});d.removeEvents();if(typeof d.onOverlayClosed==="function")d.onOverlayClosed()})};this.addEvents=function(){if(a.closeBtnEl!==undefined)a.closeBtnEl.on({"click.overlayEvent":function(b){b.preventDefault();a.hideOverlay(a.overlayEl,b.data.contentContainerEl)}},{contentContainerEl:c(this).find("."+
a.overlayContentClass)});c(window).on({"keydown.overlayEvent":function(b){b.preventDefault();b.keyCode===27&&a.hideOverlay(a.overlayEl,b.data.contentContainerEl)}},{contentContainerEl:c(this).find("."+a.overlayContentClass)});a.overlayEl.on({"onOverlayLoaded.overlayEvent":function(b){if(typeof a.onOverlayLoaded==="function")a.onOverlayLoaded(b.data.contentContainerEl)},"click.overlayEvent":function(b){b.preventDefault();b.stopPropagation();b.target.id==="overlay"&&a.hideOverlay(c(this),b.data.contentContainerEl)}},
{contentContainerEl:c(this).find("."+a.overlayContentClass)})};this.removeEvents=function(){a.overlayEl.off(".overlayEvent");c(window).off(".overlayEvent");a.closeBtnEl.size()>0&&a.closeBtnEl.off(".overlayEvent")};a.options=c.extend(a.defaults,h);a.init(a.options);constructor=void 0}})})(jQuery);
